#! /usr/bin/env nix-shell
#! nix-shell -p "haskellPackages.ghcWithPackages (pkgs: with pkgs; [turtle neat-interpolation])" -i runhaskell

{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE QuasiQuotes #-}

import Turtle
import qualified NeatInterpolation as I

gitignore langs = inproc "git" (["ignore"] <> langs) empty
stdGitignore = gitignore ["archive", "backup", "emacs", "linux", "vim"]

customGitignore = select . textToLines $ [I.text|
  # nix
  result

  # Linux
  nohup.out
|]

main = output "gitignore" $ customGitignore <|> stdGitignore
